
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.7.0
  creationTimestamp: null
  name: servicebindings.apis.kcp.dev
spec:
  group: apis.kcp.dev
  names:
    categories:
    - kcp
    kind: ServiceBinding
    listKind: ServiceBindingList
    plural: servicebindings
    singular: servicebinding
  scope: Cluster
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: ServiceBinding projects APIs and backing implementations into
          a Workspace.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: Spec holds the desired state.
            properties:
              services:
                description: Services describe the APIs and implementations that are
                  to be bound.
                items:
                  description: ServiceSpec describes one API and backing implementation.
                  properties:
                    external:
                      description: ExternalServiceSpec describes an API and backing
                        implementation that are provided by a third-party actor.
                      properties:
                        url:
                          description: URL at which this external service may be reached.
                          type: string
                      required:
                      - url
                      type: object
                    local:
                      description: LocalServiceSpec describes an API and backing implementation
                        that are provided by an actor in the same Workspace as the
                        ServiceBinding.
                      properties:
                        name:
                          description: Name of the ServiceExport that describes the
                            API for this LocalServiceSpec.
                          type: string
                      required:
                      - name
                      type: object
                    published:
                      description: 'TODO: use a YAML patcher as a post-processing
                        step to add oneOf validation to the CRD YAML, ex: https://github.com/openshift/build-machinery-go/blob/7e33a7eb4ce3955ce3500d6daa96859384d0702b/make/targets/openshift/yaml-patch.mk
                        https://github.com/openshift/build-machinery-go/blob/6ed14425650f63995829a6c95c7ad3a23e589046/make/targets/openshift/operator/profile-manifests.mk#L17-L25
                        https://github.com/openshift/build-machinery-go/blob/6ed14425650f63995829a6c95c7ad3a23e589046/make/targets/openshift/operator/profile-manifests.mk#L34
                        https://github.com/openshift/api/blob/14f26e4285a42be94433c57dfea792cb6acda410/networkoperator/v1/001-egressrouter.crd.yaml-patch'
                      properties:
                        name:
                          description: Name of the ServiceExport that describes the
                            API for this PublishedServiceSpec.
                          type: string
                        workspace:
                          description: Workspace of the ServiceExport that describes
                            the API for this PublishedServiceSpec.
                          type: string
                      required:
                      - name
                      - workspace
                      type: object
                  type: object
                type: array
            type: object
          status:
            description: Status communicates the observed state.
            properties:
              boundServices:
                description: BoundServices records the state of binding individual
                  services.
                items:
                  description: BoundService describes a bound ServiceExport.
                  properties:
                    boundResourceSchemas:
                      description: BoundResourceSchemas record which resource schemas
                        are bound for this ServiceExport.
                      items:
                        description: ResourceSchemaReference records a resource, identified
                          by (group, version, resource, schema).
                        properties:
                          group:
                            type: string
                          hash:
                            description: Hash is
                            type: string
                          resource:
                            type: string
                          schema:
                            description: Schema is the name of the bound ResourceSchema.
                            type: string
                          version:
                            type: string
                        required:
                        - group
                        - resource
                        - version
                        type: object
                      type: array
                      x-kubernetes-list-map-keys:
                      - schema
                      x-kubernetes-list-type: map
                    conditions:
                      description: Current binding state of the ServiceExport.
                      items:
                        description: Condition defines an observation of a object
                          operational state.
                        properties:
                          lastTransitionTime:
                            description: Last time the condition transitioned from
                              one status to another. This should be when the underlying
                              condition changed. If that is not known, then using
                              the time when the API field changed is acceptable.
                            format: date-time
                            type: string
                          message:
                            description: A human readable message indicating details
                              about the transition. This field may be empty.
                            type: string
                          reason:
                            description: The reason for the condition's last transition
                              in CamelCase. The specific API may choose whether or
                              not this field is considered a guaranteed API. This
                              field may not be empty.
                            type: string
                          severity:
                            description: Severity provides an explicit classification
                              of Reason code, so the users or machines can immediately
                              understand the current situation and act accordingly.
                              The Severity field MUST be set only when Status=False.
                            type: string
                          status:
                            description: Status of the condition, one of True, False,
                              Unknown.
                            type: string
                          type:
                            description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                              Many .condition.type values are consistent across resources
                              like Available, but because arbitrary conditions can
                              be useful (see .node.status.conditions), the ability
                              to deconflict is important.
                            type: string
                        required:
                        - lastTransitionTime
                        - status
                        - type
                        type: object
                      type: array
                    name:
                      description: Name is the name of the ServiceExport which is
                        bound.
                      type: string
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
